<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/favicon.ico" type="image/x-icon" rel="icon" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title class="bg-blue-500">Opioid Project</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="dist/styles.css" rel="stylesheet">

  <style>
    .jumbotron {
      background: #E8DED1 ;
      overflow: auto;
      width: 100%;
      height: 100%;
      margin: 10px;
      padding: 0;
    }
  </style>
</head>

<body>

  <div class="container">
    <!-- jumbotron-->
    <div class="row">
      <div class="col-md-20 jumbotron text-center">
        <h1 >Opioid Project</h1>
        <p>Use the interactive charts below to explore the dataset</p>
      </div>
    </div>
    
    <div class="row">
      <div class="col-md-3">
        <!-- dropdown selection/button -->
        <div class="well">
          <h5>Population Selection:</h5>
          <select id="selDataset" onchange="optionChanged(this.value)"></select>
        </div>

        <!-- Population information -->
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">Population Info</h3>
          </div>
          <div id="population-info" class="panel-body"></div>
        </div>

        <!-- Button for more info -->
        <button class="popup" onclick="myFunction()">show/hide information 
          <span class="popuptext" id="myPopup">This dashboard aims to provide further insight on how the
            opioid abuse epidemic affects certain demographic populations in the City of Tempe.<br>
            The data represents "opioid abuse probable" calls to emergency services, meaning
            each patient was deemed to have been affected by opioid abuse.<br>
            <a href="https://gis.tempe.gov/publicart/tempopendata/opioid_epidemic/opioid_data_transformation_notes_.pdf">Data dictionary</a>
          </span>
        </button>
      </div>

      <!-- class for scatter chart -->
      <div class="col-md-5">
        <div class = 'scatter-chart'>
          <div id="line"></div>
        </div>
      </div>
     
    </div>

    <!-- row for bar charts -->
    <div class="row-chart">
      <div class="col-md-5">
        <div class = first-bar>
          <div id="bar1"></div>
        </div>
      </div>
      <div class="col-md-5">
        <div class = 'second-bar'>
          <div id="bar2"></div>
        </div>
      </div>
    </div>

    <!-- row spaces for between the charts and the footer-->
    <div class="row">
    </div>
    <div class="row">
    </div>
    <div class="row">
    </div>
    <div class="row">
    </div>
    <div class="row">
      
    </div>

    <!-- footer -->
    <footer>
      <p>Team Members: Katie Bienek, Jhazmine Billups, Candida Miranda, and Emily Neaville.</p>
      <img src="images/github logo.png" width = "25"/>
      <a href="https://github.com/emilyneaville/opioid_project_3">Github Repository </a></p>
      <img src="images/data.gov.png" width = "110"/>
      <a href="https://catalog.data.gov/dataset/opioid-ems-calls-ac2fc">Opioid EMS Calls</a>
    </footer>
    <div class="row">
    </div>

  </div>

  <style>
    
    .col-md-3 {
      margin-top: 5%;
      width: 20%;
      height: 20%;
      align-items: center;
      margin-left: 250px;
      width: auto;
    }

    .well {
      width: 330px;
      padding: 20px;
      align-self: center;
    }

    .panel-primary {
      width: 330px;
      padding: 0px;
      align-self: center;
      border-color: #2e2e2e
    }

    .panel-primary>.panel-heading {
      background-color: #E8DED1;
      border-color: #2e2e2e;
      text-align: left;
      font-size: 20px;
      font-weight: bold;
      padding: 10px;
    }

    .panel-primary>.panel-heading>.panel-title {
      color: #2e2e2e;
    }
    
    .row-chart {
      margin-left: 180px;
      width: 110%;
      
    }

    .row {
      width: 100%;
      padding: 20px;
    }

    .container {
    width: 100%;
    }

    /* Popup container */
    .popup {
      position: absolute;
      display: inline-block;
      cursor: pointer;
      left: auto;
      top: -15%;
      width: auto;
      height: auto;
    }

    /* The actual popup */
    .popup .popuptext {
      visibility: hidden;
      width: 550px;
      background-color: #2e2e2e;
      color: #fff;
      font-size: large;
      text-align: left;
      border-radius: 6px;
      padding: 10px;
      position: absolute;
      z-index: 1;
      bottom: 350%;
      right: -250%;
      margin-left: 100px;
    }

    /* Toggle this class when clicking on the popup container (hide and show the popup) */
    .popup .show {
      visibility: visible;
      -webkit-animation: fadeIn 0.5s;
      animation: fadeIn 0.5s
    }

    /* Add animation (fade in the popup) */
    @-webkit-keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity:1 ;}
    }
    .scatter-chart {
      margin-left: 170px;
      width: 110%;
    }

    .first-bar {
      margin-left: 150px;
      width: 110%;
    }
    .second-bar {
      margin-left: 50px;
      width: 110%;
    }
  
  </style>

  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="static/app.js"></script>
  <script>
    // When the user clicks on <div>, open the popup
    function myFunction() {
      var popup = document.getElementById("myPopup");
      popup.classList.toggle("show");
    }
  </script>

</body>

</html>